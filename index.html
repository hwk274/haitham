<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Cairo',sans-serif;background:#f0f2f8;color:#333;line-height:1.6;scroll-behavior:smooth;}
:root{--main:#1e3c72;--second:#4a69ff;--gradient:linear-gradient(135deg,#1e3c72,#4a69ff);--card-bg:#fff;--card-hover:#f0f4ff;--alert-bg:#fff5f5;}
body.dark{--main:#a6c1ff;--second:#5a7dff;--gradient:linear-gradient(135deg,#1a1a2e,#162447);--card-bg:#1f1f2e;--card-hover:#2a2a3c;--alert-bg:#3a3a4f;color:#ddd;}
header{height:180px;background:var(--gradient);display:flex;align-items:center;justify-content:center;color:#fff;text-align:center;border-bottom-left-radius:25px;border-bottom-right-radius:25px;box-shadow:0 5px 15px rgba(0,0,0,0.15);}
header .moving-text{font-size:1.5rem;font-weight:800;animation:moveText 12s linear infinite;white-space:nowrap;}
@keyframes moveText{0%{transform:translateX(100%);}50%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
nav{position:fixed;top:0;width:100%;background:#fff;box-shadow:0 5px 20px rgba(0,0,0,.12);display:flex;justify-content:center;gap:12px;padding:14px 0;font-weight:600;z-index:1000;}
nav a{padding:10px 16px;border-radius:12px;color:var(--main);font-weight:600;transition:.3s;}
nav a:hover{background:var(--main);color:#fff;}
#darkModeToggle{position:fixed;top:18px;right:20px;padding:10px 16px;background:var(--gradient);color:#fff;border:none;border-radius:10px;cursor:pointer;z-index:1001;}
section{max-width:1150px;margin:120px auto 60px auto;padding:30px 25px;text-align:center;border-radius:20px;}
section h2{font-size:2rem;margin-bottom:25px;color:var(--main);font-weight:800;position:relative;}
section h2::after{content:"";width:80px;height:4px;background:var(--second);display:block;margin:10px auto 0 auto;border-radius:5px;}
.alert-counter-box{background:var(--card-bg);border-radius:15px;padding:15px;margin-bottom:20px;display:flex;justify-content:center;gap:12px;align-items:center;font-size:1.1rem;font-weight:700;}
.alert-number{background:#ff4747;color:#fff;padding:6px 14px;border-radius:50px;font-size:1rem;}
#alerts .cards{display:flex;flex-wrap:wrap;gap:20px;justify-content:center;}
#alerts .card{width:240px;background:var(--alert-bg);padding:18px;border-radius:18px;box-shadow:0 6px 18px rgba(0,0,0,.12);opacity:0;transform:translateY(30px);transition:.6s;}
#alerts .card.visible{opacity:1;transform:translateY(0);}
#alerts .card h3{color:#b00020;margin-bottom:6px;}
#alerts .icon svg{width:40px;height:40px;fill:#ff5c5c;margin-bottom:10px;}
</style>
</head>
<body>

<button id="darkModeToggle">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†</button>

<header>
  <div class="moving-text">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª Ø³Ø¨Ø­Ø§Ù†Ùƒ Ø¥Ù†ÙŠ ÙƒÙ†Øª Ù…Ù† Ø§Ù„Ø¸Ø§Ù„Ù…ÙŠÙ†</div>
</header>

<nav>
  <a href="#alerts">ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</a>
  <a href="#services">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
</nav>

<section id="alerts">
<h2>ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ§Ù„Ø¥Ù‚Ø§Ù…Ø©</h2>
<div class="alert-counter-box">
  ğŸ”” Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© :
  <span class="alert-number" id="alertCountResidency">0</span>
</div>
<div class="cards" id="alertCardsResidency"></div>

<h2>ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</h2>
<div class="alert-counter-box">
  ğŸš— Ø¹Ø¯Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª :
  <span class="alert-number" id="alertCountCars">0</span>
</div>
<div class="cards" id="alertCardsCars"></div>
</section>

<section id="services">
<h2>Ø®Ø¯Ù…Ø§ØªÙ†Ø§</h2>
<div class="cards">
  <div class="card visible"><a href="employees.html"><h3>Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h3><p>Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</p></a></div>
  <div class="card visible"><a href="cars.html"><h3>Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</h3><p>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª ÙˆØ§Ù„Ø³Ø¬Ù„Ø§Øª</p></a></div>
</div>
</section>

<script>
// Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
const residencyData = [
  { "Ø§Ù„Ø§Ø³Ù…":"Ø£Ø­Ù…Ø¯","ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ù‚Ø§Ù…Ø©":"2025-12-30" },
  { "Ø§Ù„Ø§Ø³Ù…":"Ø³Ø§Ø±Ø©","ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ù‚Ø§Ù…Ø©":"2025-12-10" },
  { "Ø§Ù„Ø§Ø³Ù…":"Ù…Ø­Ù…Ø¯","ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ù‚Ø§Ù…Ø©":"2025-11-20" }
];

const carsData = [
  { "Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø©":"ØªÙˆÙŠÙˆØªØ§","Ø±Ù‚Ù… Ø§Ù„Ù„ÙˆØ­Ø©":"1234","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙØ­Øµ":"2025-12-28","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø±Ø©":"2025-12-25","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ´ØºÙŠÙ„":"2025-12-30","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ§Ù…ÙŠÙ†":"2025-11-28" },
  { "Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø©":"Ù†ÙŠØ³Ø§Ù†","Ø±Ù‚Ù… Ø§Ù„Ù„ÙˆØ­Ø©":"5678","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙØ­Øµ":"2025-11-20","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø±Ø©":"2025-11-25","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ´ØºÙŠÙ„":"2025-12-05","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ§Ù…ÙŠÙ†":"2025-12-10" }
];

// Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ®
function parseDate(str){ if(!str) return null; let d=Date.parse(str); if(!isNaN(d)) return new Date(d); return null; }
function daysUntil(date){ if(!date) return null; const t=new Date(); t.setHours(0,0,0,0); date.setHours(0,0,0,0); return Math.ceil((date-t)/(1000*60*60*24)); }

// ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©
function renderResidencyAlerts(data){
  const container=document.getElementById("alertCardsResidency");
  const counter=document.getElementById("alertCountResidency");
  container.innerHTML=""; let count=0;
  data.forEach(row=>{
    const days=daysUntil(parseDate(row["ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ù‚Ø§Ù…Ø©"]));
    if(days!==null && days<=30){
      count++;
      let card=document.createElement("div");
      card.className="card visible";
      card.innerHTML=`<div class="icon"><svg viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21z"/></svg></div>
      <h3>${row["Ø§Ù„Ø§Ø³Ù…"]}</h3>
      <p>${days>=0 ? "ØªÙ†ØªÙ‡ÙŠ Ø¨Ø¹Ø¯ "+days+" ÙŠÙˆÙ…" : "Ø§Ù†ØªÙ‡Øª"}</p>`;
      container.appendChild(card);
    }
  });
  counter.textContent=count;
  if(count===0) container.innerHTML=`<div class="card visible"><div class="icon"><svg viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19l12-12-1.41-1.41z"/></svg></div><h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</h3><p>ÙƒÙ„ Ø´ÙŠØ¡ Ø³Ù„ÙŠÙ…</p></div>`;
}

// ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª
function renderCarAlerts(data){
  const container=document.getElementById("alertCardsCars");
  const counter=document.getElementById("alertCountCars");
  container.innerHTML=""; let count=0;
  data.forEach(car=>{
    ["Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙØ­Øµ","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø±Ø©","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ´ØºÙŠÙ„","Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ§Ù…ÙŠÙ†"].forEach(field=>{
      const days=daysUntil(parseDate(car[field]));
      if(days!==null && days<=30){
        count++;
        let card=document.createElement("div");
        card.className="card visible";
        card.innerHTML=`<div class="icon"><svg viewBox="0 0 24 24"><path d="M3 3h18v18H3z"/></svg></div>
        <h3>${car["Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø©"]} - ${car["Ø±Ù‚Ù… Ø§Ù„Ù„ÙˆØ­Ø©"]}</h3>
        <p>${field} : ${days>=0 ? "Ø¨Ø¹Ø¯ "+days+" ÙŠÙˆÙ…" : "Ø§Ù†ØªÙ‡Øª"}</p>`;
        container.appendChild(card);
      }
    });
  });
  counter.textContent=count;
  if(count===0) container.innerHTML=`<div class="card visible"><div class="icon"><svg viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19l12-12-1.41-1.41z"/></svg></div><h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</h3><p>ÙƒÙ„ Ø´ÙŠØ¡ Ø³Ù„ÙŠÙ…</p></div>`;
}

// ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙƒÙ„
renderResidencyAlerts(residencyData);
renderCarAlerts(carsData);

// Dark Mode
const toggle = document.getElementById("darkModeToggle");
if(localStorage.getItem("darkMode") === "true"){ document.body.classList.add("dark"); }
function updateButtonText(){ toggle.textContent = document.body.classList.contains("dark") ? "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­" : "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†"; }
updateButtonText();
toggle.addEventListener("click", ()=>{
  document.body.classList.toggle("dark");
  localStorage.setItem("darkMode", document.body.classList.contains("dark"));
  updateButtonText();
});
</script>

</body>
</html>
