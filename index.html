<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Cairo',sans-serif;background:#f9f9f9;color:#333;line-height:1.6;}

/* Ø§Ù„Ø±Ø£Ø³ */
header{color:#1e3c72;text-align:center;padding:80px 20px;}
header h1{font-size:2.8rem;margin-bottom:12px;}
header p{font-size:1.2rem;}

/* Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… */
nav{background:#fff;display:flex;justify-content:center;gap:10px;box-shadow:0 2px 8px rgba(0,0,0,.1);position:sticky;top:0;z-index:1000;}
nav a{padding:12px 22px;font-weight:600;border-radius:6px;color:#1e3c72;transition:0.3s;}
nav a:hover{background:#1e3c72;color:#fff}

/* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */
.alert-bar{
  background:#ffe8e8;border:2px solid #ff4d4d;color:#b30000;padding:12px;margin:15px auto;max-width:1100px;border-radius:12px;text-align:center;font-weight:700;font-size:1.05rem;display:none;cursor:pointer;
}
.alert-bar span{font-size:1.2rem;margin-left:6px;}
.alert-bar.cars{background:#e8f3ff;border-color:#4da6ff;color:#005cb3;font-weight:700;}

/* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
section{max-width:1200px;margin:40px auto;padding:20px;text-align:center;}
section h2{font-size:2rem;margin-bottom:25px;color:#1e3c72;}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-top:30px;}

/* Ø§Ù„ÙƒØ±ÙˆØª */
.card{background:#fff;padding:30px 20px;border-radius:22px;box-shadow:0 6px 20px rgba(0,0,0,.08);transition:transform .3s ease,box-shadow .3s ease,background .3s ease;position:relative;overflow:hidden;cursor:pointer;text-align:center;}
.card:hover{transform:translateY(-6px) scale(1.03);box-shadow:0 12px 28px rgba(0,0,0,.15);}
.card .icon{font-size:3.5rem;margin-bottom:15px;display:block;transition:transform .5s,color .3s;color:#2563eb;}
.card:hover .icon{transform:rotate(360deg) scale(1.1);color:#1e3c72;}
.card h3{margin-bottom:12px;font-size:1.2rem;color:#1e3c72;transition:color .3s;}
.card p{font-size:0.95rem;color:#555;transition:color .3s;}
.card:hover h3,.card:hover p{color:#0f172a;}

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.btn{display:inline-block;margin-top:20px;padding:12px 28px;background:#1e3c72;color:#fff;border-radius:8px;transition:0.3s;}
.btn:hover{background:#203a43;}

/* Ø§Ù„ÙÙˆØªØ± */
footer{background:#1e3c72;color:#fff;text-align:center;padding:30px;margin-top:50px;}

/* Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ§ØªØ³Ø§Ø¨ */
.whatsapp{position:fixed;bottom:20px;left:20px;width:55px;height:55px;background:#25D366;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 5px 15px rgba(0,0,0,.35);z-index:1000;}
.whatsapp img{width:32px;}
</style>
</head>
<body>

<header>
<h1>Ù…Ø±Ø­Ø¨Ø§ Ø¨ÙƒÙ… ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</h1>
<p>Ø­Ù„ÙˆÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ø³ÙŠØ§Ø±Ø§Øª</p>
</header>

<nav>
<a href="#home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
<a href="#services">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
<a href="idea.html">Ø§Ù„ÙÙƒØ±Ø©</a>
<a href="#contact">Ø§Ù„ØªÙˆØ§ØµÙ„</a>
</nav>

<!-- ğŸ”” Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† -->
<div class="alert-bar" id="staffAlert"><span>âš ï¸</span> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª...</div>

<!-- ğŸ”” Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª -->
<div class="alert-bar cars" id="carsAlert"><span>ğŸš—</span> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª...</div>

<section id="home">
<h2>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
<p>Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©</p>
</section>

<section id="services">
<h2>Ø§Ù„Ø®Ø¯Ù…Ø§Øª</h2>
<div class="cards">
  <a class="card" href="employees.html">
    <span class="icon">ğŸ§‘â€ğŸ’¼</span>
    <h3>Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h3>
    <p>Ø¹Ø±Ø¶ Ø§Ù„Ø¬ÙˆØ§Ø²Ø§ØªØŒ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø§Øª ÙˆØ¹Ù‚ÙˆØ¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</p>
  </a>

  <a class="card" href="cars.html">
    <span class="icon">ğŸš—</span>
    <h3>Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</h3>
    <p>Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</p>
  </a>

  <a class="card" href="rent_contracts.html">
    <span class="icon">ğŸ </span>
    <h3>Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±</h3>
  </a>

  <a class="card" href="inventory.php">
    <span class="icon">ğŸ“¦</span>
    <h3>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h3>
  </a>
</div>
</section>

<section id="contact">
<h2>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
<a class="btn" href="mailto:hwk2@hotmail.com">Ø±Ø§Ø³Ù„Ù†Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯</a>
</section>

<footer>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2025</footer>

<a class="whatsapp" href="https://wa.me/966558020154" target="_blank">
<img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg">
</a>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script>
// ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨ØµÙŠØºØ© YYYY/MM/DD Ø£Ùˆ YYYY-MM-DD
function parseDate(str){
  if(!str) return null;
  str=str.trim();
  const parts = str.includes("/") ? str.split("/") : str.split("-");
  if(parts.length===3){
    const y=parseInt(parts[0]), m=parseInt(parts[1])-1, d=parseInt(parts[2]);
    return new Date(y,m,d);
  }
  return null;
}

function daysUntil(date){
  if(!date) return null;
  const t=new Date(); t.setHours(0,0,0,0); date.setHours(0,0,0,0);
  return Math.ceil((date-t)/(1000*60*60*24));
}

// Ø±ÙˆØ§Ø¨Ø· CSV
const staffCSV = "https://docs.google.com/spreadsheets/d/e/STAFF_CSV/pub?output=csv"; 
const carsCSV = "https://docs.google.com/spreadsheets/d/e/CARS_CSV/pub?output=csv"; 

// Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
Papa.parse(staffCSV,{download:true,header:true,complete:function(results){
  let count=0;
  results.data.forEach(r=>{
    const endRes=parseDate(r["ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ù‚Ø§Ù…Ø©"]);
    const endPass=parseDate(r["ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±"]);
    const endContract=parseDate(r["ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø¯"]);
    if((endRes && daysUntil(endRes)<=30) || (endPass && daysUntil(endPass)<=30) || (endContract && daysUntil(endContract)<=30)){
      count++;
    }
  });
  if(count>0){
    const bar=document.getElementById("staffAlert");
    bar.style.display="block";
    bar.innerHTML=`<span>âš ï¸</span> ÙŠÙˆØ¬Ø¯ ${count} ØªÙ†Ø¨ÙŠÙ‡/ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ† â€” Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„`;
  }
}});

// Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª
Papa.parse(carsCSV,{download:true,header:true,complete:function(results){
  let count=0;
  results.data.forEach(r=>{
    const expiry1=parseDate(r["ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ£Ù…ÙŠÙ†"]);
    const expiry2=parseDate(r["ØªØ§Ø±ÙŠØ® Ø§Ù„ØµÙŠØ§Ù†Ø©"]);
    if((expiry1 && daysUntil(expiry1)<=30) || (expiry2 && daysUntil(expiry2)<=30)){
      count++;
    }
  });
  if(count>0){
    const bar=document.getElementById("carsAlert");
    bar.style.display="block";
    bar.innerHTML=`<span>ğŸš—</span> ÙŠÙˆØ¬Ø¯ ${count} ØªÙ†Ø¨ÙŠÙ‡/ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª â€” Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„`;
  }
}});

// Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
document.getElementById("staffAlert").addEventListener("click", ()=>{window.location.href="employees.html";});
document.getElementById("carsAlert").addEventListener("click", ()=>{window.location.href="cars.html";});
</script>

</body>
</html>
